(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.WebSocketRails=function(){function e(e,a){this.url=e,this.use_websockets=null!=a?a:!0,this.connection_stale=t(this.connection_stale,this),this.pong=t(this.pong,this),this.supports_websockets=t(this.supports_websockets,this),this.dispatch_channel=t(this.dispatch_channel,this),this.unsubscribe=t(this.unsubscribe,this),this.subscribe_private=t(this.subscribe_private,this),this.subscribe=t(this.subscribe,this),this.dispatch=t(this.dispatch,this),this.trigger_event=t(this.trigger_event,this),this.trigger=t(this.trigger,this),this.bind=t(this.bind,this),this.connection_established=t(this.connection_established,this),this.new_message=t(this.new_message,this),this.reconnect=t(this.reconnect,this),this.callbacks={},this.channels={},this.queue={},this.connect()}return e.prototype.connect=function(){return this.state="connecting",this._conn=this.supports_websockets()&&this.use_websockets?new e.WebSocketConnection(this.url,this):new e.HttpConnection(this.url,this),this._conn.new_message=this.new_message},e.prototype.disconnect=function(){return this._conn&&(this._conn.close(),delete this._conn._conn,delete this._conn),this.state="disconnected"},e.prototype.reconnect=function(){var t,e,a,i,n;a=null!=(i=this._conn)?i.connection_id:void 0,this.disconnect(),this.connect(),n=this.queue;for(e in n)t=n[e],t.connection_id!==a||t.is_result()||this.trigger_event(t);return this.reconnect_channels()},e.prototype.new_message=function(t){var a,i,n,r,s,o;for(o=[],n=0,r=t.length;r>n;n++)i=t[n],a=new e.Event(i),a.is_result()?(null!=(s=this.queue[a.id])&&s.run_callbacks(a.success,a.data),delete this.queue[a.id]):a.is_channel()?this.dispatch_channel(a):a.is_ping()?this.pong():this.dispatch(a),o.push("connecting"===this.state&&"client_connected"===a.name?this.connection_established(a.data):void 0);return o},e.prototype.connection_established=function(t){return this.state="connected",this._conn.setConnectionId(t.connection_id),this._conn.flush_queue(),null!=this.on_open?this.on_open(t):void 0},e.prototype.bind=function(t,e){var a;return null==(a=this.callbacks)[t]&&(a[t]=[]),this.callbacks[t].push(e)},e.prototype.trigger=function(t,a,i,n){var r,s;return r=new e.Event([t,a,null!=(s=this._conn)?s.connection_id:void 0],i,n),this.trigger_event(r)},e.prototype.trigger_event=function(t){var e,a;return null==(e=this.queue)[a=t.id]&&(e[a]=t),this._conn&&this._conn.trigger(t),t},e.prototype.dispatch=function(t){var e,a,i,n,r;if(null!=this.callbacks[t.name]){for(n=this.callbacks[t.name],r=[],a=0,i=n.length;i>a;a++)e=n[a],r.push(e(t.data));return r}},e.prototype.subscribe=function(t,a,i){var n;return null==this.channels[t]?(n=new e.Channel(t,this,!1,a,i),this.channels[t]=n,n):this.channels[t]},e.prototype.subscribe_private=function(t,a,i){var n;return null==this.channels[t]?(n=new e.Channel(t,this,!0,a,i),this.channels[t]=n,n):this.channels[t]},e.prototype.unsubscribe=function(t){return null!=this.channels[t]?(this.channels[t].destroy(),delete this.channels[t]):void 0},e.prototype.dispatch_channel=function(t){return null!=this.channels[t.channel]?this.channels[t.channel].dispatch(t.name,t.data):void 0},e.prototype.supports_websockets=function(){return"function"==typeof WebSocket||"object"==typeof WebSocket},e.prototype.pong=function(){var t,a;return t=new e.Event(["websocket_rails.pong",{},null!=(a=this._conn)?a.connection_id:void 0]),this._conn.trigger(t)},e.prototype.connection_stale=function(){return"connected"!==this.state},e.prototype.reconnect_channels=function(){var t,e,a,i,n;i=this.channels,n=[];for(a in i)e=i[a],t=e._callbacks,e.destroy(),delete this.channels[a],e=e.is_private?this.subscribe_private(a):this.subscribe(a),e._callbacks=t,n.push(e);return n},e}()}).call(this),function(){WebSocketRails.Event=function(){function t(t,e,a){var i;this.success_callback=e,this.failure_callback=a,this.name=t[0],i=t[1],null!=i&&(this.id=null!=i.id?i.id:65536*(1+Math.random())|0,this.channel=null!=i.channel?i.channel:void 0,this.data=null!=i.data?i.data:i,this.token=null!=i.token?i.token:void 0,this.connection_id=t[2],null!=i.success&&(this.result=!0,this.success=i.success))}return t.prototype.is_channel=function(){return null!=this.channel},t.prototype.is_result=function(){return"undefined"!=typeof this.result},t.prototype.is_ping=function(){return"websocket_rails.ping"===this.name},t.prototype.serialize=function(){return JSON.stringify([this.name,this.attributes()])},t.prototype.attributes=function(){return{id:this.id,channel:this.channel,data:this.data,token:this.token}},t.prototype.run_callbacks=function(t,e){return this.success=t,this.result=e,this.success===!0?"function"==typeof this.success_callback?this.success_callback(this.result):void 0:"function"==typeof this.failure_callback?this.failure_callback(this.result):void 0},t}()}.call(this),function(){WebSocketRails.AbstractConnection=function(){function t(t,e){this.dispatcher=e,this.message_queue=[]}return t.prototype.close=function(){},t.prototype.trigger=function(t){return"connected"!==this.dispatcher.state?this.message_queue.push(t):this.send_event(t)},t.prototype.send_event=function(t){return null!=this.connection_id?t.connection_id=this.connection_id:void 0},t.prototype.on_close=function(t){var e;return this.dispatcher&&this.dispatcher._conn===this?(e=new WebSocketRails.Event(["connection_closed",t]),this.dispatcher.state="disconnected",this.dispatcher.dispatch(e)):void 0},t.prototype.on_error=function(t){var e;return this.dispatcher&&this.dispatcher._conn===this?(e=new WebSocketRails.Event(["connection_error",t]),this.dispatcher.state="disconnected",this.dispatcher.dispatch(e)):void 0},t.prototype.on_message=function(t){return this.dispatcher&&this.dispatcher._conn===this?this.dispatcher.new_message(t):void 0},t.prototype.setConnectionId=function(t){this.connection_id=t},t.prototype.flush_queue=function(){var t,e,a,i;for(i=this.message_queue,e=0,a=i.length;a>e;e++)t=i[e],this.trigger(t);return this.message_queue=[]},t}()}.call(this),function(){var t={}.hasOwnProperty,e=function(e,a){function i(){this.constructor=e}for(var n in a)t.call(a,n)&&(e[n]=a[n]);return i.prototype=a.prototype,e.prototype=new i,e.__super__=a.prototype,e};WebSocketRails.HttpConnection=function(t){function a(t,e){var i;this.dispatcher=e,a.__super__.constructor.apply(this,arguments),this._url="http://"+t,this._conn=this._createXMLHttpObject(),this.last_pos=0;try{this._conn.onreadystatechange=function(t){return function(){return t._parse_stream()}}(this),this._conn.addEventListener("load",this.on_close,!1)}catch(n){i=n,this._conn.onprogress=function(t){return function(){return t._parse_stream()}}(this),this._conn.onload=this.on_close,this._conn.readyState=3}this._conn.open("GET",this._url,!0),this._conn.send()}return e(a,t),a.prototype.connection_type="http",a.prototype._httpFactories=function(){return[function(){return new XDomainRequest},function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}]},a.prototype.close=function(){return this._conn.abort()},a.prototype.send_event=function(t){return a.__super__.send_event.apply(this,arguments),this._post_data(t.serialize())},a.prototype._post_data=function(t){return $.ajax(this._url,{type:"POST",data:{client_id:this.connection_id,data:t},success:function(){}})},a.prototype._createXMLHttpObject=function(){var t,e,a,i,n,r;for(i=!1,e=this._httpFactories(),n=0,r=e.length;r>n;n++){a=e[n];try{i=a()}catch(s){t=s;continue}break}return i},a.prototype._parse_stream=function(){var t,e,a;if(3===this._conn.readyState){t=this._conn.responseText.substring(this.last_pos),this.last_pos=this._conn.responseText.length,t=t.replace(/\]\]\[\[/g,"],[");try{return a=JSON.parse(t),this.on_message(a)}catch(i){e=i}}},a}(WebSocketRails.AbstractConnection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,a){function i(){this.constructor=e}for(var n in a)t.call(a,n)&&(e[n]=a[n]);return i.prototype=a.prototype,e.prototype=new i,e.__super__=a.prototype,e};WebSocketRails.WebSocketConnection=function(t){function a(t,e){this.url=t,this.dispatcher=e,a.__super__.constructor.apply(this,arguments),this.url.match(/^wss?:\/\//)?console.log("WARNING: Using connection urls with protocol specified is depricated"):this.url="https:"===window.location.protocol?"wss://"+this.url:"ws://"+this.url,this._conn=new WebSocket(this.url),this._conn.onmessage=function(t){return function(e){var a;return a=JSON.parse(e.data),t.on_message(a)}}(this),this._conn.onclose=function(t){return function(e){return t.on_close(e)}}(this),this._conn.onerror=function(t){return function(e){return t.on_error(e)}}(this)}return e(a,t),a.prototype.connection_type="websocket",a.prototype.close=function(){return this._conn.close()},a.prototype.send_event=function(t){return a.__super__.send_event.apply(this,arguments),this._conn.send(t.serialize())},a}(WebSocketRails.AbstractConnection)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};WebSocketRails.Channel=function(){function e(e,a,i,n,r){var s,o,l;this.name=e,this._dispatcher=a,this.is_private=null!=i?i:!1,this.on_success=n,this.on_failure=r,this._failure_launcher=t(this._failure_launcher,this),this._success_launcher=t(this._success_launcher,this),this._callbacks={},this._token=void 0,this._queue=[],o=this.is_private?"websocket_rails.subscribe_private":"websocket_rails.subscribe",this.connection_id=null!=(l=this._dispatcher._conn)?l.connection_id:void 0,s=new WebSocketRails.Event([o,{data:{channel:this.name}},this.connection_id],this._success_launcher,this._failure_launcher),this._dispatcher.trigger_event(s)}return e.prototype.destroy=function(){var t,e,a;return this.connection_id===(null!=(a=this._dispatcher._conn)?a.connection_id:void 0)&&(e="websocket_rails.unsubscribe",t=new WebSocketRails.Event([e,{data:{channel:this.name}},this.connection_id]),this._dispatcher.trigger_event(t)),this._callbacks={}},e.prototype.bind=function(t,e){var a;return null==(a=this._callbacks)[t]&&(a[t]=[]),this._callbacks[t].push(e)},e.prototype.trigger=function(t,e){var a;return a=new WebSocketRails.Event([t,{channel:this.name,data:e,token:this._token},this.connection_id]),this._token?this._dispatcher.trigger_event(a):this._queue.push(a)},e.prototype.dispatch=function(t,e){var a,i,n,r,s,o;if("websocket_rails.channel_token"===t)return this.connection_id=null!=(r=this._dispatcher._conn)?r.connection_id:void 0,this._token=e.token,this.flush_queue();if(null!=this._callbacks[t]){for(s=this._callbacks[t],o=[],i=0,n=s.length;n>i;i++)a=s[i],o.push(a(e));return o}},e.prototype._success_launcher=function(t){return null!=this.on_success?this.on_success(t):void 0},e.prototype._failure_launcher=function(t){return null!=this.on_failure?this.on_failure(t):void 0},e.prototype.flush_queue=function(){var t,e,a,i;for(i=this._queue,e=0,a=i.length;a>e;e++)t=i[e],this._dispatcher.trigger_event(t);return this._queue=[]},e}()}.call(this),function(t,e){function a(){var t=this;t.id=null,t.busy=!1,t.start=function(e,a){t.busy||(t.stop(),t.id=setTimeout(function(){e(),t.id=null,t.busy=!1},a),t.busy=!0)},t.stop=function(){null!==t.id&&(clearTimeout(t.id),t.id=null,t.busy=!1)}}function i(i,n,r){var s=this;s.id=r,s.table=i,s.options=n,s.breakpoints=[],s.breakpointNames="",s.columns={},s.plugins=e.footable.plugins.load(s);var o=s.options,l=o.classes,d=o.events,c=o.triggers,u=0;return s.timers={resize:new a,register:function(t){return s.timers[t]=new a,s.timers[t]}},s.init=function(){var a=t(e),i=t(s.table);if(e.footable.plugins.init(s),i.hasClass(l.loaded))return void s.raise(d.alreadyInitialized);s.raise(d.initializing),i.addClass(l.loading),i.find(o.columnDataSelector).each(function(){var t=s.getColumnData(this);s.columns[t.index]=t});for(var n in o.breakpoints)s.breakpoints.push({name:n,width:o.breakpoints[n]}),s.breakpointNames+=n+" ";s.breakpoints.sort(function(t,e){return t.width-e.width}),i.unbind(c.initialize).bind(c.initialize,function(){i.removeData("footable_info"),i.data("breakpoint",""),i.trigger(c.resize),i.removeClass(l.loading),i.addClass(l.loaded).addClass(l.main),s.raise(d.initialized)}).unbind(c.redraw).bind(c.redraw,function(){s.redraw()}).unbind(c.resize).bind(c.resize,function(){s.resize()}).unbind(c.expandFirstRow).bind(c.expandFirstRow,function(){i.find(o.toggleSelector).first().not("."+l.detailShow).trigger(c.toggleRow)}).unbind(c.expandAll).bind(c.expandAll,function(){i.find(o.toggleSelector).not("."+l.detailShow).trigger(c.toggleRow)}).unbind(c.collapseAll).bind(c.collapseAll,function(){i.find("."+l.detailShow).trigger(c.toggleRow)}),i.trigger(c.initialize),a.bind("resize.footable",function(){s.timers.resize.stop(),s.timers.resize.start(function(){s.raise(c.resize)},o.delay)})},s.addRowToggle=function(){if(o.addRowToggle){var e=t(s.table),a=!1;e.find("span."+l.toggle).remove();for(var i in s.columns){var n=s.columns[i];if(n.toggle){a=!0;var r="> tbody > tr:not(."+l.detail+",."+l.disabled+") > td:nth-child("+(parseInt(n.index,10)+1)+")";return void e.find(r).not("."+l.detailCell).prepend(t(o.toggleHTMLElement).addClass(l.toggle))}}a||e.find("> tbody > tr:not(."+l.detail+",."+l.disabled+") > td:first-child").not("."+l.detailCell).prepend(t(o.toggleHTMLElement).addClass(l.toggle))}},s.setColumnClasses=function(){$table=t(s.table);for(var e in s.columns){var a=s.columns[e];if(null!==a.className){var i="",n=!0;t.each(a.matches,function(t,e){n||(i+=", "),i+="> tbody > tr:not(."+l.detail+") > td:nth-child("+(parseInt(e,10)+1)+")",n=!1}),$table.find(i).not("."+l.detailCell).addClass(a.className)}}},s.bindToggleSelectors=function(){var e=t(s.table);s.hasAnyBreakpointColumn()&&(e.find(o.toggleSelector).unbind(c.toggleRow).bind(c.toggleRow,function(){var e=t(this).is("tr")?t(this):t(this).parents("tr:first");s.toggleDetail(e)}),e.find(o.toggleSelector).unbind("click.footable").bind("click.footable",function(a){e.is(".breakpoint")&&t(a.target).is("td,."+l.toggle)&&t(this).trigger(c.toggleRow)}))},s.parse=function(t,e){var a=o.parsers[e.type]||o.parsers.alpha;return a(t)},s.getColumnData=function(e){var a=t(e),i=a.data("hide"),n=a.index();i=i||"",i=jQuery.map(i.split(","),function(t){return jQuery.trim(t)});var r={index:n,hide:{},type:a.data("type")||"alpha",name:a.data("name")||t.trim(a.text()),ignore:a.data("ignore")||!1,toggle:a.data("toggle")||!1,className:a.data("class")||null,matches:[],names:{},group:a.data("group")||null,groupName:null};if(null!==r.group){var l=t(s.table).find('> thead > tr.footable-group-row > th[data-group="'+r.group+'"], > thead > tr.footable-group-row > td[data-group="'+r.group+'"]').first();r.groupName=s.parse(l,{type:"alpha"})}var c=parseInt(a.prev().attr("colspan")||0,10);u+=c>1?c-1:0;var p=parseInt(a.attr("colspan")||0,10),h=r.index+u;if(p>1){var f=a.data("names");f=f||"",f=f.split(",");for(var g=0;p>g;g++)r.matches.push(g+h),g<f.length&&(r.names[g+h]=f[g])}else r.matches.push(h);r.hide["default"]="all"===a.data("hide")||t.inArray("default",i)>=0;var m=!1;for(var _ in o.breakpoints)r.hide[_]="all"===a.data("hide")||t.inArray(_,i)>=0,m=m||r.hide[_];r.hasBreakpoint=m;var v=s.raise(d.columnData,{column:{data:r,th:e}});return v.column.data},s.getViewportWidth=function(){return window.innerWidth||(document.body?document.body.offsetWidth:0)},s.calculateWidth=function(t,e){return jQuery.isFunction(o.calculateWidthOverride)?o.calculateWidthOverride(t,e):(e.viewportWidth<e.width&&(e.width=e.viewportWidth),e.parentWidth<e.width&&(e.width=e.parentWidth),e)},s.hasBreakpointColumn=function(t){for(var e in s.columns)if(s.columns[e].hide[t]){if(s.columns[e].ignore)continue;return!0}return!1},s.hasAnyBreakpointColumn=function(){for(var t in s.columns)if(s.columns[t].hasBreakpoint)return!0;return!1},s.resize=function(){var e=t(s.table);if(e.is(":visible")&&s.hasAnyBreakpointColumn()){var a={width:e.width(),viewportWidth:s.getViewportWidth(),parentWidth:e.parent().width()};a=s.calculateWidth(e,a);var i=e.data("footable_info");if(e.data("footable_info",a),s.raise(d.resizing,{old:i,info:a}),!i||i&&i.width&&i.width!==a.width){for(var n,r=null,o=0;o<s.breakpoints.length;o++)if(n=s.breakpoints[o],n&&n.width&&a.width<=n.width){r=n;break}var l=null===r?"default":r.name,u=s.hasBreakpointColumn(l),p=e.data("breakpoint");e.data("breakpoint",l).removeClass("default breakpoint").removeClass(s.breakpointNames).addClass(l+(u?" breakpoint":"")),l!==p&&(e.trigger(c.redraw),s.raise(d.breakpoint,{breakpoint:l,info:a}))}s.raise(d.resized,{old:i,info:a})}},s.redraw=function(){s.addRowToggle(),s.bindToggleSelectors(),s.setColumnClasses();var e=t(s.table),a=e.data("breakpoint"),i=s.hasBreakpointColumn(a);e.find("> tbody > tr:not(."+l.detail+")").data("detail_created",!1).end().find("> thead > tr:last-child > th").each(function(){var i=s.columns[t(this).index()],n="",r=!0;t.each(i.matches,function(t,e){r||(n+=", ");var a=e+1;n+="> tbody > tr:not(."+l.detail+") > td:nth-child("+a+")",n+=", > tfoot > tr:not(."+l.detail+") > td:nth-child("+a+")",n+=", > colgroup > col:nth-child("+a+")",r=!1}),n+=', > thead > tr[data-group-row="true"] > th[data-group="'+i.group+'"]';var o=e.find(n).add(this);if(""!==a&&(i.hide[a]===!1?o.addClass("footable-visible").show():o.removeClass("footable-visible").hide()),1===e.find("> thead > tr.footable-group-row").length){var d=e.find('> thead > tr:last-child > th[data-group="'+i.group+'"]:visible, > thead > tr:last-child > th[data-group="'+i.group+'"]:visible'),c=e.find('> thead > tr.footable-group-row > th[data-group="'+i.group+'"], > thead > tr.footable-group-row > td[data-group="'+i.group+'"]'),u=0;t.each(d,function(){u+=parseInt(t(this).attr("colspan")||1,10)}),u>0?c.attr("colspan",u).show():c.hide()}}).end().find("> tbody > tr."+l.detailShow).each(function(){s.createOrUpdateDetailRow(this)}),e.find("> tbody > tr."+l.detailShow+":visible").each(function(){var e=t(this).next();e.hasClass(l.detail)&&(i?e.show():e.hide())}),e.find("> thead > tr > th.footable-last-column, > tbody > tr > td.footable-last-column").removeClass("footable-last-column"),e.find("> thead > tr > th.footable-first-column, > tbody > tr > td.footable-first-column").removeClass("footable-first-column"),e.find("> thead > tr, > tbody > tr").find("> th.footable-visible:last, > td.footable-visible:last").addClass("footable-last-column").end().find("> th.footable-visible:first, > td.footable-visible:first").addClass("footable-first-column"),s.raise(d.redrawn)},s.toggleDetail=function(e){var a=e.jquery?e:t(e),i=a.next();a.hasClass(l.detailShow)?(a.removeClass(l.detailShow),i.hasClass(l.detail)&&i.hide(),s.raise(d.rowCollapsed,{row:a[0]})):(s.createOrUpdateDetailRow(a[0]),a.addClass(l.detailShow).next().show(),s.raise(d.rowExpanded,{row:a[0]}))},s.removeRow=function(e){var a=e.jquery?e:t(e);a.hasClass(l.detail)&&(a=a.prev());var i=a.next();a.data("detail_created")===!0&&i.remove(),a.remove(),s.raise(d.rowRemoved)},s.appendRow=function(e){var a=e.jquery?e:t(e);t(s.table).find("tbody").append(a),s.redraw()},s.getColumnFromTdIndex=function(e){var a=null;for(var i in s.columns)if(t.inArray(e,s.columns[i].matches)>=0){a=s.columns[i];break}return a},s.createOrUpdateDetailRow=function(e){var a,i=t(e),n=i.next(),r=[];if(i.data("detail_created")===!0)return!0;if(i.is(":hidden"))return!1;if(s.raise(d.rowDetailUpdating,{row:i,detail:n}),i.find("> td:hidden").each(function(){var e=t(this).index(),a=s.getColumnFromTdIndex(e),i=a.name;return a.ignore===!0?!0:(e in a.names&&(i=a.names[e]),r.push({name:i,value:s.parse(this,a),display:t.trim(t(this).html()),group:a.group,groupName:a.groupName}),!0)}),0===r.length)return!1;var c=i.find("> td:visible").length,u=n.hasClass(l.detail);return u||(n=t('<tr class="'+l.detail+'"><td class="'+l.detailCell+'"><div class="'+l.detailInner+'"></div></td></tr>'),i.after(n)),n.find("> td:first").attr("colspan",c),a=n.find("."+l.detailInner).empty(),o.createDetail(a,r,o.createGroupedDetail,o.detailSeparator,l),i.data("detail_created",!0),s.raise(d.rowDetailUpdated,{row:i,detail:n}),!u},s.raise=function(e,a){s.options.debug===!0&&t.isFunction(s.options.log)&&s.options.log(e,"event"),a=a||{};var i={ft:s};t.extend(!0,i,a);var n=t.Event(e,i);return n.ft||t.extend(!0,n,i),t(s.table).trigger(n),n},s.reset=function(){var e=t(s.table);e.removeData("footable_info").data("breakpoint","").removeClass(l.loading).removeClass(l.loaded),e.find(o.toggleSelector).unbind(c.toggleRow).unbind("click.footable"),e.find("> tbody > tr").removeClass(l.detailShow),e.find("> tbody > tr."+l.detail).remove(),s.raise(d.reset)},s.init(),s}e.footable={options:{delay:100,breakpoints:{phone:480,tablet:1024},parsers:{alpha:function(e){return t(e).data("value")||t.trim(t(e).text())},numeric:function(e){var a=t(e).data("value")||t(e).text().replace(/[^0-9.\-]/g,"");return a=parseFloat(a),isNaN(a)&&(a=0),a}},addRowToggle:!0,calculateWidthOverride:null,toggleSelector:" > tbody > tr:not(.footable-row-detail)",columnDataSelector:"> thead > tr:last-child > th, > thead > tr:last-child > td",detailSeparator:":",toggleHTMLElement:"<span />",createGroupedDetail:function(t){for(var e={_none:{name:null,data:[]}},a=0;a<t.length;a++){var i=t[a].group;null!==i?(i in e||(e[i]={name:t[a].groupName||t[a].group,data:[]}),e[i].data.push(t[a])):e._none.data.push(t[a])}return e},createDetail:function(t,e,a,i,n){var r=a(e);for(var s in r)if(0!==r[s].data.length){"_none"!==s&&t.append('<div class="'+n.detailInnerGroup+'">'+r[s].name+"</div>");for(var o=0;o<r[s].data.length;o++){var l=r[s].data[o].name?i:"";t.append('<div class="'+n.detailInnerRow+'"><div class="'+n.detailInnerName+'">'+r[s].data[o].name+l+'</div><div class="'+n.detailInnerValue+'">'+r[s].data[o].display+"</div></div>")}}},classes:{main:"footable",loading:"footable-loading",loaded:"footable-loaded",toggle:"footable-toggle",disabled:"footable-disabled",detail:"footable-row-detail",detailCell:"footable-row-detail-cell",detailInner:"footable-row-detail-inner",detailInnerRow:"footable-row-detail-row",detailInnerGroup:"footable-row-detail-group",detailInnerName:"footable-row-detail-name",detailInnerValue:"footable-row-detail-value",detailShow:"footable-detail-show"},triggers:{initialize:"footable_initialize",resize:"footable_resize",redraw:"footable_redraw",toggleRow:"footable_toggle_row",expandFirstRow:"footable_expand_first_row",expandAll:"footable_expand_all",collapseAll:"footable_collapse_all"},events:{alreadyInitialized:"footable_already_initialized",initializing:"footable_initializing",initialized:"footable_initialized",resizing:"footable_resizing",resized:"footable_resized",redrawn:"footable_redrawn",breakpoint:"footable_breakpoint",columnData:"footable_column_data",rowDetailUpdating:"footable_row_detail_updating",rowDetailUpdated:"footable_row_detail_updated",rowCollapsed:"footable_row_collapsed",rowExpanded:"footable_row_expanded",rowRemoved:"footable_row_removed",reset:"footable_reset"},debug:!1,log:null},version:{major:0,minor:5,toString:function(){return e.footable.version.major+"."+e.footable.version.minor},parse:function(t){return version=/(\d+)\.?(\d+)?\.?(\d+)?/.exec(t),{major:parseInt(version[1],10)||0,minor:parseInt(version[2],10)||0,patch:parseInt(version[3],10)||0}}},plugins:{_validate:function(a){if(!t.isFunction(a))return e.footable.options.debug===!0&&console.error('Validation failed, expected type "function", received type "{0}".',typeof a),!1;var i=new a;return"string"!=typeof i.name?(e.footable.options.debug===!0&&console.error('Validation failed, plugin does not implement a string property called "name".',i),!1):t.isFunction(i.init)?(e.footable.options.debug===!0&&console.log('Validation succeeded for plugin "'+i.name+'".',i),!0):(e.footable.options.debug===!0&&console.error('Validation failed, plugin "'+i.name+'" does not implement a function called "init".',i),!1)},registered:[],register:function(a,i){e.footable.plugins._validate(a)&&(e.footable.plugins.registered.push(a),"object"==typeof i&&t.extend(!0,e.footable.options,i))},load:function(t){var a,i,n=[];for(i=0;i<e.footable.plugins.registered.length;i++)try{a=e.footable.plugins.registered[i],n.push(new a(t))}catch(r){e.footable.options.debug===!0&&console.error(r)}return n},init:function(t){for(var a=0;a<t.plugins.length;a++)try{t.plugins[a].init(t)}catch(i){e.footable.options.debug===!0&&console.error(i)}}}};var n=0;t.fn.footable=function(a){a=a||{};var r=t.extend(!0,{},e.footable.options,a);return this.each(function(){n++;var e=new i(this,r,n);t(this).data("footable",e)})}}(jQuery,window),function(t,e,a){function i(){var e=this;e.name="Footable Sortable",e.init=function(a){e.footable=a,a.options.sort===!0&&t(a.table).unbind(".sorting").bind({"footable_initialized.sorting":function(){var i,n,r=t(a.table),s=(r.find("> tbody"),a.options.classes.sort);if(r.data("sort")!==!1){r.find("> thead > tr:last-child > th, > thead > tr:last-child > td").each(function(){n=t(this),i=a.columns[n.index()],i.sort.ignore===!0||n.hasClass(s.sortable)||(n.addClass(s.sortable),t("<span />").addClass(s.indicator).appendTo(n))}),r.find("> thead > tr:last-child > th."+s.sortable+", > thead > tr:last-child > td."+s.sortable).unbind("click.footable").bind("click.footable",function(a){a.preventDefault(),n=t(this);var i=!n.hasClass(s.sorted);return e.doSort(n.index(),i),!1});var o=!1;for(var l in a.columns)if(i=a.columns[l],i.sort.initial){var d="descending"!==i.sort.initial;e.doSort(i.index,d);break}o&&a.bindToggleSelectors()}},"footable_redrawn.sorting":function(){var i=t(a.table),n=a.options.classes.sort;i.data("sorted")>=0&&i.find("> thead > tr:last-child > th").each(function(a){var i=t(this);return i.hasClass(n.sorted)||i.hasClass(n.descending)?void e.doSort(a):void 0})},"footable_column_data.sorting":function(e){var a=t(e.column.th);e.column.data.sort=e.column.data.sort||{},e.column.data.sort.initial=a.data("sort-initial")||!1,e.column.data.sort.ignore=a.data("sort-ignore")||!1,e.column.data.sort.selector=a.data("sort-selector")||null;var i=a.data("sort-match")||0;i>=e.column.data.matches.length&&(i=0),e.column.data.sort.match=e.column.data.matches[i]}}).data("footable-sort",e)},e.doSort=function(i,n){var r=e.footable;if(t(r.table).data("sort")!==!1){var s=t(r.table),o=s.find("> tbody"),l=r.columns[i],d=s.find("> thead > tr:last-child > th:eq("+i+")"),c=r.options.classes.sort,u=r.options.events.sort;if(n=n===a?d.hasClass(c.sorted):"toggle"===n?!d.hasClass(c.sorted):n,l.sort.ignore===!0)return!0;var p=r.raise(u.sorting,{column:l,direction:n?"ASC":"DESC"});p&&p.result===!1||(s.data("sorted",l.index),s.find("> thead > tr:last-child > th, > thead > tr:last-child > td").not(d).removeClass(c.sorted+" "+c.descending),n===a&&(n=d.hasClass(c.sorted)),n?d.removeClass(c.descending).addClass(c.sorted):d.removeClass(c.sorted).addClass(c.descending),e.sort(r,o,l,n),r.bindToggleSelectors(),r.raise(u.sorted,{column:l,direction:n?"ASC":"DESC"}))}},e.rows=function(e,i,n){var r=[];return i.find("> tr").each(function(){var i=t(this),s=null;if(i.hasClass(e.options.classes.detail))return!0;i.next().hasClass(e.options.classes.detail)&&(s=i.next().get(0));var o={row:i,detail:s};return n!==a&&(o.value=e.parse(this.cells[n.sort.match],n)),r.push(o),!0}).detach(),r},e.sort=function(t,a,i,n){var r=e.rows(t,a,i),s=t.options.sorters[i.type]||t.options.sorters.alpha;r.sort(function(t,e){return n?s(t.value,e.value):s(e.value,t.value)});for(var o=0;o<r.length;o++)a.append(r[o].row),null!==r[o].detail&&a.append(r[o].detail)}}if(e.footable===a||null===e.footable)throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var n={sort:!0,sorters:{alpha:function(t,e){return"string"==typeof t&&(t=t.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),t===e?0:e>t?-1:1},numeric:function(t,e){return t-e}},classes:{sort:{sortable:"footable-sortable",sorted:"footable-sorted",descending:"footable-sorted-desc",indicator:"footable-sort-indicator"}},events:{sort:{sorting:"footable_sorting",sorted:"footable_sorted"}}};e.footable.plugins.register(i,n)}(jQuery,window),function(t,e,a){function i(e){var a=t(e.table),i=a.data();this.pageNavigation=i.pageNavigation||e.options.pageNavigation,this.pageSize=i.pageSize||e.options.pageSize,this.firstText=i.firstText||e.options.firstText,this.previousText=i.previousText||e.options.previousText,this.nextText=i.nextText||e.options.nextText,this.lastText=i.lastText||e.options.lastText,this.limitNavigation=parseInt(i.limitNavigation||e.options.limitNavigation||r.limitNavigation,10),this.limitPreviousText=i.limitPreviousText||e.options.limitPreviousText,this.limitNextText=i.limitNextText||e.options.limitNextText,this.limit=this.limitNavigation>0,this.currentPage=i.currentPage||0,this.pages=[],this.control=!1}function n(){var e=this;e.name="Footable Paginate",e.init=function(a){if(a.options.paginate===!0){if(t(a.table).data("page")===!1)return;e.footable=a,t(a.table).unbind(".paging").bind({"footable_initialized.paging footable_row_removed.paging footable_redrawn.paging footable_sorted.paging footable_filtered.paging":function(){e.setupPaging()}}).data("footable-paging",e)}},e.setupPaging=function(){var a=e.footable,n=t(a.table).find("> tbody");a.pageInfo=new i(a),e.createPages(a,n),e.createNavigation(a,n),e.fillPage(a,n,a.pageInfo.currentPage)},e.createPages=function(e,a){var i=1,n=e.pageInfo,r=i*n.pageSize,s=[],o=[];n.pages=[];var l=a.find("> tr:not(.footable-filtered,.footable-row-detail)");l.each(function(t,e){s.push(e),t===r-1?(n.pages.push(s),i++,r=i*n.pageSize,s=[]):t>=l.length-l.length%n.pageSize&&o.push(e)}),o.length>0&&n.pages.push(o),n.currentPage>=n.pages.length&&(n.currentPage=n.pages.length-1),n.currentPage<0&&(n.currentPage=0),1===n.pages.length?t(e.table).addClass("no-paging"):t(e.table).removeClass("no-paging")},e.createNavigation=function(a){var i=t(a.table).find(a.pageInfo.pageNavigation);if(0===i.length){if(i=t(a.pageInfo.pageNavigation),i.parents("table:first").length>0&&i.parents("table:first")!==t(a.table))return;i.length>1&&a.options.debug===!0&&console.error("More than one pagination control was found!")}if(0!==i.length){i.is("ul")||(0===i.find("ul:first").length&&i.append("<ul />"),i=i.find("ul")),i.find("li").remove();var n=a.pageInfo;n.control=i,n.pages.length>0&&(i.append('<li class="footable-page-arrow"><a data-page="first" href="#first">'+a.pageInfo.firstText+"</a>"),i.append('<li class="footable-page-arrow"><a data-page="prev" href="#prev">'+a.pageInfo.previousText+"</a></li>"),n.limit&&i.append('<li class="footable-page-arrow"><a data-page="limit-prev" href="#limit-prev">'+a.pageInfo.limitPreviousText+"</a></li>"),n.limit||t.each(n.pages,function(t,e){e.length>0&&i.append('<li class="footable-page"><a data-page="'+t+'" href="#">'+(t+1)+"</a></li>")}),n.limit&&(i.append('<li class="footable-page-arrow"><a data-page="limit-next" href="#limit-next">'+a.pageInfo.limitNextText+"</a></li>"),e.createLimited(i,n,0)),i.append('<li class="footable-page-arrow"><a data-page="next" href="#next">'+a.pageInfo.nextText+"</a></li>"),i.append('<li class="footable-page-arrow"><a data-page="last" href="#last">'+a.pageInfo.lastText+"</a></li>")),i.off("click","a[data-page]").on("click","a[data-page]",function(r){r.preventDefault();var s=t(this).data("page"),o=n.currentPage;if("first"===s)o=0;else if("prev"===s)o>0&&o--;else if("next"===s)o<n.pages.length-1&&o++;else if("last"===s)o=n.pages.length-1;else if("limit-prev"===s){o=-1;var l=i.find(".footable-page:first a").data("page");e.createLimited(i,n,l-n.limitNavigation),e.setPagingClasses(i,n.currentPage,n.pages.length)}else if("limit-next"===s){o=-1;var d=i.find(".footable-page:last a").data("page");e.createLimited(i,n,d+1),e.setPagingClasses(i,n.currentPage,n.pages.length)}else o=s;if(o>=0){if(n.limit&&n.currentPage!=o){for(var c=o;c%n.limitNavigation!==0;)c-=1;e.createLimited(i,n,c)}e.paginate(a,o)}}),e.setPagingClasses(i,n.currentPage,n.pages.length)}},e.createLimited=function(t,e,a){a=a||0,t.find("li.footable-page").remove();var i,n,r=t.find('li.footable-page-arrow > a[data-page="limit-prev"]').parent(),s=t.find('li.footable-page-arrow > a[data-page="limit-next"]').parent();for(i=e.pages.length-1;i>=0;i--)n=e.pages[i],i>=a&&i<a+e.limitNavigation&&n.length>0&&r.after('<li class="footable-page"><a data-page="'+i+'" href="#">'+(i+1)+"</a></li>");0===a?r.hide():r.show(),a+e.limitNavigation>=e.pages.length?s.hide():s.show()},e.paginate=function(a,i){var n=a.pageInfo;if(n.currentPage!==i){var r=t(a.table).find("> tbody"),s=a.raise("footable_paging",{page:i,size:n.pageSize});if(s&&s.result===!1)return;e.fillPage(a,r,i),n.control.find("li").removeClass("active disabled"),e.setPagingClasses(n.control,n.currentPage,n.pages.length)
}},e.setPagingClasses=function(t,e,a){t.find("li.footable-page > a[data-page="+e+"]").parent().addClass("active"),e>=a-1&&(t.find('li.footable-page-arrow > a[data-page="next"]').parent().addClass("disabled"),t.find('li.footable-page-arrow > a[data-page="last"]').parent().addClass("disabled")),1>e&&(t.find('li.footable-page-arrow > a[data-page="first"]').parent().addClass("disabled"),t.find('li.footable-page-arrow > a[data-page="prev"]').parent().addClass("disabled"))},e.fillPage=function(a,i,n){a.pageInfo.currentPage=n,t(a.table).data("currentPage",n),i.find("> tr").hide(),t(a.pageInfo.pages[n]).each(function(){e.showRow(this,a)}),a.raise("footable_page_filled")},e.showRow=function(e,a){var i=t(e),n=i.next(),r=t(a.table);r.hasClass("breakpoint")&&i.hasClass("footable-detail-show")&&n.hasClass("footable-row-detail")?(i.add(n).show(),a.createOrUpdateDetailRow(e)):i.show()}}if(e.footable===a||null===e.footable)throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var r={paginate:!0,pageSize:10,pageNavigation:".pagination",firstText:"&laquo;",previousText:"&lsaquo;",nextText:"&rsaquo;",lastText:"&raquo;",limitNavigation:0,limitPreviousText:"...",limitNextText:"..."};e.footable.plugins.register(n,r)}(jQuery,window),function(t){var e,a,i,n,r,s,o,l="Close",d="BeforeClose",c="AfterClose",u="BeforeAppend",p="MarkupParse",h="Open",f="Change",g="mfp",m="."+g,_="mfp-ready",v="mfp-removing",b="mfp-prevent-close",y=function(){},k=!!window.jQuery,w=t(window),D=function(t,a){e.ev.on(g+t+m,a)},C=function(e,a,i,n){var r=document.createElement("div");return r.className="mfp-"+e,i&&(r.innerHTML=i),n?a&&a.appendChild(r):(r=t(r),a&&r.appendTo(a)),r},x=function(a,i){e.ev.triggerHandler(g+a,i),e.st.callbacks&&(a=a.charAt(0).toLowerCase()+a.slice(1),e.st.callbacks[a]&&e.st.callbacks[a].apply(e,t.isArray(i)?i:[i]))},I=function(a){return a===o&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),o=a),e.currTemplate.closeBtn},M=function(){t.magnificPopup.instance||(e=new y,e.init(),t.magnificPopup.instance=e)},S=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};y.prototype={constructor:y,init:function(){var a=navigator.appVersion;e.isIE7=-1!==a.indexOf("MSIE 7."),e.isIE8=-1!==a.indexOf("MSIE 8."),e.isLowIE=e.isIE7||e.isIE8,e.isAndroid=/android/gi.test(a),e.isIOS=/iphone|ipad|ipod/gi.test(a),e.supportsTransition=S(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=t(document),e.popupsCache={}},open:function(a){i||(i=t(document.body));var r;if(a.isObj===!1){e.items=a.items.toArray(),e.index=0;var o,l=a.items;for(r=0;l.length>r;r++)if(o=l[r],o.parsed&&(o=o.el[0]),o===a.el[0]){e.index=r;break}}else e.items=t.isArray(a.items)?a.items:[a.items],e.index=a.index||0;if(e.isOpen)return void e.updateItemHTML();e.types=[],s="",e.ev=a.mainEl&&a.mainEl.length?a.mainEl.eq(0):n,a.key?(e.popupsCache[a.key]||(e.popupsCache[a.key]={}),e.currTemplate=e.popupsCache[a.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,a),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=C("bg").on("click"+m,function(){e.close()}),e.wrap=C("wrap").attr("tabindex",-1).on("click"+m,function(t){e._checkIfClose(t.target)&&e.close()}),e.container=C("container",e.wrap)),e.contentContainer=C("content"),e.st.preloader&&(e.preloader=C("preloader",e.container,e.st.tLoading));var d=t.magnificPopup.modules;for(r=0;d.length>r;r++){var c=d[r];c=c.charAt(0).toUpperCase()+c.slice(1),e["init"+c].call(e)}x("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(D(p,function(t,e,a,i){a.close_replaceWith=I(i.type)}),s+=" mfp-close-btn-in"):e.wrap.append(I())),e.st.alignTop&&(s+=" mfp-align-top"),e.wrap.css(e.fixedContentPos?{overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}:{top:w.scrollTop(),position:"absolute"}),(e.st.fixedBgPos===!1||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:n.height(),position:"absolute"}),e.st.enableEscapeKey&&n.on("keyup"+m,function(t){27===t.keyCode&&e.close()}),w.on("resize"+m,function(){e.updateSize()}),e.st.closeOnContentClick||(s+=" mfp-auto-cursor"),s&&e.wrap.addClass(s);var u=e.wH=w.height(),f={};if(e.fixedContentPos&&e._hasScrollBar(u)){var g=e._getScrollbarSize();g&&(f.marginRight=g)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):f.overflow="hidden");var v=e.st.mainClass;return e.isIE7&&(v+=" mfp-ie7"),v&&e._addClassToMFP(v),e.updateItemHTML(),x("BuildControls"),t("html").css(f),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||i),e._lastFocusedEl=document.activeElement,setTimeout(function(){e.content?(e._addClassToMFP(_),e._setFocus()):e.bgOverlay.addClass(_),n.on("focusin"+m,e._onFocusIn)},16),e.isOpen=!0,e.updateSize(u),x(h),a},close:function(){e.isOpen&&(x(d),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(v),setTimeout(function(){e._close()},e.st.removalDelay)):e._close())},_close:function(){x(l);var a=v+" "+_+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(a+=e.st.mainClass+" "),e._removeClassFromMFP(a),e.fixedContentPos){var i={marginRight:""};e.isIE7?t("body, html").css("overflow",""):i.overflow="",t("html").css(i)}n.off("keyup"+m+" focusin"+m),e.ev.off(m),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&e.currTemplate[e.currItem.type]!==!0||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,x(c)},updateSize:function(t){if(e.isIOS){var a=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*a;e.wrap.css("height",i),e.wH=i}else e.wH=t||w.height();e.fixedContentPos||e.wrap.css("height",e.wH),x("Resize")},updateItemHTML:function(){var a=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),a.parsed||(a=e.parseEl(e.index));var i=a.type;if(x("BeforeChange",[e.currItem?e.currItem.type:"",i]),e.currItem=a,!e.currTemplate[i]){var n=e.st[i]?e.st[i].markup:!1;x("FirstMarkupParse",n),e.currTemplate[i]=n?t(n):!0}r&&r!==a.type&&e.container.removeClass("mfp-"+r+"-holder");var s=e["get"+i.charAt(0).toUpperCase()+i.slice(1)](a,e.currTemplate[i]);e.appendContent(s,i),a.preloaded=!0,x(f,a),r=a.type,e.container.prepend(e.contentContainer),x("AfterChange")},appendContent:function(t,a){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&e.currTemplate[a]===!0?e.content.find(".mfp-close").length||e.content.append(I()):e.content=t:e.content="",x(u),e.container.addClass("mfp-"+a+"-holder"),e.contentContainer.append(e.content)},parseEl:function(a){var i,n=e.items[a];if(n.tagName?n={el:t(n)}:(i=n.type,n={data:n,src:n.src}),n.el){for(var r=e.types,s=0;r.length>s;s++)if(n.el.hasClass("mfp-"+r[s])){i=r[s];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=i||e.st.type||"inline",n.index=a,n.parsed=!0,e.items[a]=n,x("ElementParse",n),e.items[a]},addGroup:function(t,a){var i=function(i){i.mfpEl=this,e._openClick(i,t,a)};a||(a={});var n="click.magnificPopup";a.mainEl=t,a.items?(a.isObj=!0,t.off(n).on(n,i)):(a.isObj=!1,a.delegate?t.off(n).on(n,a.delegate,i):(a.items=t,t.off(n).on(n,i)))},_openClick:function(a,i,n){var r=void 0!==n.midClick?n.midClick:t.magnificPopup.defaults.midClick;if(r||2!==a.which&&!a.ctrlKey&&!a.metaKey){var s=void 0!==n.disableOn?n.disableOn:t.magnificPopup.defaults.disableOn;if(s)if(t.isFunction(s)){if(!s.call(e))return!0}else if(s>w.width())return!0;a.type&&(a.preventDefault(),e.isOpen&&a.stopPropagation()),n.el=t(a.mfpEl),n.delegate&&(n.items=i.find(n.delegate)),e.open(n)}},updateStatus:function(t,i){if(e.preloader){a!==t&&e.container.removeClass("mfp-s-"+a),i||"loading"!==t||(i=e.st.tLoading);var n={status:t,text:i};x("UpdateStatus",n),t=n.status,i=n.text,e.preloader.html(i),e.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),e.container.addClass("mfp-s-"+t),a=t}},_checkIfClose:function(a){if(!t(a).hasClass(b)){var i=e.st.closeOnContentClick,n=e.st.closeOnBgClick;if(i&&n)return!0;if(!e.content||t(a).hasClass("mfp-close")||e.preloader&&a===e.preloader[0])return!0;if(a===e.content[0]||t.contains(e.content[0],a)){if(i)return!0}else if(n&&t.contains(document,a))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?n.height():document.body.scrollHeight)>(t||w.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(a){return a.target===e.wrap[0]||t.contains(e.wrap[0],a.target)?void 0:(e._setFocus(),!1)},_parseMarkup:function(e,a,i){var n;i.data&&(a=t.extend(i.data,a)),x(p,[e,a,i]),t.each(a,function(t,a){if(void 0===a||a===!1)return!0;if(n=t.split("_"),n.length>1){var i=e.find(m+"-"+n[0]);if(i.length>0){var r=n[1];"replaceWith"===r?i[0]!==a[0]&&i.replaceWith(a):"img"===r?i.is("img")?i.attr("src",a):i.replaceWith('<img src="'+a+'" class="'+i.attr("class")+'" />'):i.attr(n[1],a)}}else e.find(m+"-"+t).html(a)})},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.id="mfp-sbm",t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:y.prototype,modules:[],open:function(e,a){return M(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=a||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,a){a.options&&(t.magnificPopup.defaults[e]=a.options),t.extend(this.proto,a.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},t.fn.magnificPopup=function(a){M();var i=t(this);if("string"==typeof a)if("open"===a){var n,r=k?i.data("magnificPopup"):i[0].magnificPopup,s=parseInt(arguments[1],10)||0;r.items?n=r.items[s]:(n=i,r.delegate&&(n=n.find(r.delegate)),n=n.eq(s)),e._openClick({mfpEl:n},i,r)}else e.isOpen&&e[a].apply(e,Array.prototype.slice.call(arguments,1));else a=t.extend(!0,{},a),k?i.data("magnificPopup",a):i[0].magnificPopup=a,e.addGroup(i,a);return i};var T,N,E,A="inline",P=function(){E&&(N.after(E.addClass(T)).detach(),E=null)};t.magnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(A),D(l+"."+A,function(){P()})},getInline:function(a,i){if(P(),a.src){var n=e.st.inline,r=t(a.src);if(r.length){var s=r[0].parentNode;s&&s.tagName&&(N||(T=n.hiddenClass,N=C(T),T="mfp-"+T),E=r.after(N).detach().removeClass(T)),e.updateStatus("ready")}else e.updateStatus("error",n.tNotFound),r=t("<div>");return a.inlineElement=r,r}return e.updateStatus("ready"),e._parseMarkup(i,{},a),i}}});var F,O="ajax",z=function(){F&&i.removeClass(F)},Y=function(){z(),e.req&&e.req.abort()};t.magnificPopup.registerModule(O,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(O),F=e.st.ajax.cursor,D(l+"."+O,Y),D("BeforeChange."+O,Y)},getAjax:function(a){F&&i.addClass(F),e.updateStatus("loading");var n=t.extend({url:a.src,success:function(i,n,r){var s={data:i,xhr:r};x("ParseAjax",s),e.appendContent(t(s.data),O),a.finished=!0,z(),e._setFocus(),setTimeout(function(){e.wrap.addClass(_)},16),e.updateStatus("ready"),x("AjaxContentAdded")},error:function(){z(),a.finished=a.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",a.src))}},e.st.ajax.settings);return e.req=t.ajax(n),""}}});var R,j=function(a){if(a.data&&void 0!==a.data.title)return a.data.title;var i=e.st.image.titleSrc;if(i){if(t.isFunction(i))return i.call(e,a);if(a.el)return a.el.attr(i)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=e.st.image,a=".image";e.types.push("image"),D(h+a,function(){"image"===e.currItem.type&&t.cursor&&i.addClass(t.cursor)}),D(l+a,function(){t.cursor&&i.removeClass(t.cursor),w.off("resize"+m)}),D("Resize"+a,e.resizeImage),e.isLowIE&&D("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var a=0;e.isLowIE&&(a=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-a)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,R&&clearInterval(R),t.isCheckingImgSize=!1,x("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var a=0,i=t.img[0],n=function(r){R&&clearInterval(R),R=setInterval(function(){return i.naturalWidth>0?void e._onImageHasSize(t):(a>200&&clearInterval(R),a++,void(3===a?n(10):40===a?n(50):100===a&&n(500)))},r)};n(1)},getImage:function(a,i){var n=0,r=function(){a&&(a.img[0].complete?(a.img.off(".mfploader"),a===e.currItem&&(e._onImageHasSize(a),e.updateStatus("ready")),a.hasSize=!0,a.loaded=!0,x("ImageLoadComplete")):(n++,200>n?setTimeout(r,100):s()))},s=function(){a&&(a.img.off(".mfploader"),a===e.currItem&&(e._onImageHasSize(a),e.updateStatus("error",o.tError.replace("%url%",a.src))),a.hasSize=!0,a.loaded=!0,a.loadError=!0)},o=e.st.image,l=i.find(".mfp-img");if(l.length){var d=document.createElement("img");d.className="mfp-img",a.img=t(d).on("load.mfploader",r).on("error.mfploader",s),d.src=a.src,l.is("img")&&(a.img=a.img.clone()),d=a.img[0],d.naturalWidth>0?a.hasSize=!0:d.width||(a.hasSize=!1)}return e._parseMarkup(i,{title:j(a),img_replaceWith:a.img},a),e.resizeImage(),a.hasSize?(R&&clearInterval(R),a.loadError?(i.addClass("mfp-loading"),e.updateStatus("error",o.tError.replace("%url%",a.src))):(i.removeClass("mfp-loading"),e.updateStatus("ready")),i):(e.updateStatus("loading"),a.loading=!0,a.hasSize||(a.imgHidden=!0,i.addClass("mfp-loading"),e.findImageSize(a)),i)}}});var W,L=function(){return void 0===W&&(W=void 0!==document.createElement("p").style.MozTransform),W};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,a=e.st.zoom,i=".zoom";if(a.enabled&&e.supportsTransition){var n,r,s=a.duration,o=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+a.duration/1e3+"s "+a.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return n["-webkit-"+r]=n["-moz-"+r]=n["-o-"+r]=n[r]=i,e.css(n),e},c=function(){e.content.css("visibility","visible")};D("BuildControls"+i,function(){if(e._allowZoom()){if(clearTimeout(n),e.content.css("visibility","hidden"),t=e._getItemToZoom(),!t)return void c();r=o(t),r.css(e._getOffset()),e.wrap.append(r),n=setTimeout(function(){r.css(e._getOffset(!0)),n=setTimeout(function(){c(),setTimeout(function(){r.remove(),t=r=null,x("ZoomAnimationEnded")},16)},s)},16)}}),D(d+i,function(){if(e._allowZoom()){if(clearTimeout(n),e.st.removalDelay=s,!t){if(t=e._getItemToZoom(),!t)return;r=o(t)}r.css(e._getOffset(!0)),e.wrap.append(r),e.content.css("visibility","hidden"),setTimeout(function(){r.css(e._getOffset())},16)}}),D(l+i,function(){e._allowZoom()&&(c(),r&&r.remove(),t=null)})}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return e.currItem.hasSize?e.currItem.img:!1},_getOffset:function(a){var i;i=a?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem);var n=i.offset(),r=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10);n.top-=t(window).scrollTop()-r;var o={width:i.width(),height:(k?i.innerHeight():i[0].offsetHeight)-s-r};return L()?o["-moz-transform"]=o.transform="translate("+n.left+"px,"+n.top+"px)":(o.left=n.left,o.top=n.top),o}}});var H="iframe",B="//about:blank",K=function(t){if(e.currTemplate[H]){var a=e.currTemplate[H].find("iframe");a.length&&(t||(a[0].src=B),e.isIE8&&a.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(H),D("BeforeChange",function(t,e,a){e!==a&&(e===H?K():a===H&&K(!0))}),D(l+"."+H,function(){K()})},getIframe:function(a,i){var n=a.src,r=e.st.iframe;t.each(r.patterns,function(){return n.indexOf(this.index)>-1?(this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1):void 0});var s={};return r.srcAction&&(s[r.srcAction]=n),e._parseMarkup(i,s,a),e.updateStatus("ready"),i}}});var q=function(t){var a=e.items.length;return t>a-1?t-a:0>t?a+t:t},U=function(t,e,a){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,a)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=e.st.gallery,i=".mfp-gallery",r=Boolean(t.fn.mfpFastClick);return e.direction=!0,a&&a.enabled?(s+=" mfp-gallery",D(h+i,function(){a.navigateByImgClick&&e.wrap.on("click"+i,".mfp-img",function(){return e.items.length>1?(e.next(),!1):void 0}),n.on("keydown"+i,function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()})}),D("UpdateStatus"+i,function(t,a){a.text&&(a.text=U(a.text,e.currItem.index,e.items.length))}),D(p+i,function(t,i,n,r){var s=e.items.length;n.counter=s>1?U(a.tCounter,r.index,s):""}),D("BuildControls"+i,function(){if(e.items.length>1&&a.arrows&&!e.arrowLeft){var i=a.arrowMarkup,n=e.arrowLeft=t(i.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass(b),s=e.arrowRight=t(i.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass(b),o=r?"mfpFastClick":"click";n[o](function(){e.prev()}),s[o](function(){e.next()}),e.isIE7&&(C("b",n[0],!1,!0),C("a",n[0],!1,!0),C("b",s[0],!1,!0),C("a",s[0],!1,!0)),e.container.append(n.add(s))}}),D(f+i,function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){e.preloadNearbyImages(),e._preloadTimeout=null},16)}),void D(l+i,function(){n.off(i),e.wrap.off("click"+i),e.arrowLeft&&r&&e.arrowLeft.add(e.arrowRight).destroyMfpFastClick(),e.arrowRight=e.arrowLeft=null})):!1},next:function(){e.direction=!0,e.index=q(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=q(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,a=e.st.gallery.preload,i=Math.min(a[0],e.items.length),n=Math.min(a[1],e.items.length);for(t=1;(e.direction?n:i)>=t;t++)e._preloadItem(e.index+t);for(t=1;(e.direction?i:n)>=t;t++)e._preloadItem(e.index-t)},_preloadItem:function(a){if(a=q(a),!e.items[a].preloaded){var i=e.items[a];i.parsed||(i=e.parseEl(a)),x("LazyLoad",i),"image"===i.type&&(i.img=t('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,x("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var V="retina";t.magnificPopup.registerModule(V,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,a=t.ratio;a=isNaN(a)?a():a,a>1&&(D("ImageHasSize."+V,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/a,width:"100%"})}),D("ElementParse."+V,function(e,i){i.src=t.replaceSrc(i,a)}))}}}}),function(){var e=1e3,a="ontouchstart"in window,i=function(){w.off("touchmove"+r+" touchend"+r)},n="mfpFastClick",r="."+n;t.fn.mfpFastClick=function(n){return t(this).each(function(){var s,o=t(this);if(a){var l,d,c,u,p,h;o.on("touchstart"+r,function(t){u=!1,h=1,p=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],d=p.clientX,c=p.clientY,w.on("touchmove"+r,function(t){p=t.originalEvent?t.originalEvent.touches:t.touches,h=p.length,p=p[0],(Math.abs(p.clientX-d)>10||Math.abs(p.clientY-c)>10)&&(u=!0,i())}).on("touchend"+r,function(t){i(),u||h>1||(s=!0,t.preventDefault(),clearTimeout(l),l=setTimeout(function(){s=!1},e),n())})})}o.on("click"+r,function(){s||n()})})},t.fn.destroyMfpFastClick=function(){t(this).off("touchstart"+r+" click"+r),a&&w.off("touchmove"+r+" touchend"+r)}}(),M()}(window.jQuery||window.Zepto),function(t,e){function a(e,a){var n,r,s,o=e.nodeName.toLowerCase();return"area"===o?(n=e.parentNode,r=n.name,e.href&&r&&"map"===n.nodeName.toLowerCase()?(s=t("img[usemap=#"+r+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o?e.href||a:a)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,r=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(a,i){return"number"==typeof a?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},a)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(a){if(a!==e)return this.css("zIndex",a);if(this.length)for(var i,n,r=t(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(a){return!!t.data(a,e)}}):function(e,a,i){return!!t.data(e,i[3])},focusable:function(e){return a(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),n=isNaN(i);return(n||i>=0)&&a(e,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(a,i){function n(e,a,i,n){return t.each(r,function(){a-=parseFloat(t.css(e,"padding"+this))||0,i&&(a-=parseFloat(t.css(e,"border"+this+"Width"))||0),n&&(a-=parseFloat(t.css(e,"margin"+this))||0)}),a}var r="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(a){return a===e?o["inner"+i].call(this):this.each(function(){t(this).css(s,n(this,a)+"px")})},t.fn["outer"+i]=function(e,a){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(s,n(this,e,!0,a)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(a){return arguments.length?e.call(this,t.camelCase(a)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,a,i){var n,r=t.ui[e].prototype;for(n in i)r.plugins[n]=r.plugins[n]||[],r.plugins[n].push([a,i[n]])},call:function(t,e,a){var i,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;n.length>i;i++)t.options[n[i][0]]&&n[i][1].apply(t.element,a)}},hasScroll:function(e,a){if("hidden"===t(e).css("overflow"))return!1;var i=a&&"left"===a?"scrollLeft":"scrollTop",n=!1;return e[i]>0?!0:(e[i]=1,n=e[i]>0,e[i]=0,n)}})}(jQuery),function(t,e){function a(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(a,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",function(){t.datepicker._isDisabledDatepicker(r.inline?e.parent()[0]:r.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function n(e,a){t.extend(e,a);for(var i in a)null==a[i]&&(e[i]=a[i]);return e}t.extend(t.ui,{datepicker:{version:"1.10.4"}});var r,s="datepicker";t.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return n(this._defaults,t||{}),this},_attachDatepicker:function(e,a){var i,n,r;i=e.nodeName.toLowerCase(),n="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),r=this._newInst(t(e),n),r.settings=t.extend({},a||{}),"input"===i?this._connectDatepicker(e,r):n&&this._inlineDatepicker(e,r)},_newInst:function(e,a){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?i(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,a){var i=t(e);a.append=t([]),a.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,a),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),t.data(e,s,a),a.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,a){var i,n,r,s=this._get(a,"appendText"),o=this._get(a,"isRTL");a.append&&a.append.remove(),s&&(a.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[o?"before":"after"](a.append)),e.unbind("focus",this._showDatepicker),a.trigger&&a.trigger.remove(),i=this._get(a,"showOn"),("focus"===i||"both"===i)&&e.focus(this._showDatepicker),("button"===i||"both"===i)&&(n=this._get(a,"buttonText"),r=this._get(a,"buttonImage"),a.trigger=t(this._get(a,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:n,title:n}):n)),e[o?"before":"after"](a.trigger),a.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,a,i,n,r=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(a=0,i=0,n=0;t.length>n;n++)t[n].length>a&&(a=t[n].length,i=n);return i},r.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,a){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(a.dpDiv),t.data(e,s,a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(e),a.dpDiv.css("display","block"))},_dialogDatepicker:function(e,a,i,r,o){var l,d,c,u,p,h=this._dialogInst;return h||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],s,h)),n(h.settings,r||{}),a=a&&a.constructor===Date?this._formatDate(h,a):a,this._dialogInput.val(a),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(d=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,p=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[d/2-100+u,c/2-150+p]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],s,h),this
},_destroyDatepicker:function(e){var a,i=t(e),n=t.data(e,s);i.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),t.removeData(e,s),"input"===a?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===a||"span"===a)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var a,i,n=t(e),r=t.data(e,s);n.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),"input"===a?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===a||"span"===a)&&(i=n.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var a,i,n=t(e),r=t.data(e,s);n.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),"input"===a?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===a||"span"===a)&&(i=n.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,s)}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,i,r){var s,o,l,d,c=this._getInst(a);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):c?"all"===i?t.extend({},c.settings):this._get(c,i):null:(s=i||{},"string"==typeof i&&(s={},s[i]=r),c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(a,!0),l=this._getMinMaxDate(c,"min"),d=this._getMinMaxDate(c,"max"),n(c.settings,s),null!==l&&s.dateFormat!==e&&s.minDate===e&&(c.settings.minDate=this._formatDate(c,l)),null!==d&&s.dateFormat!==e&&s.maxDate===e&&(c.settings.maxDate=this._formatDate(c,d)),"disabled"in s&&(s.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(t(a),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c)),e)},_changeDatepicker:function(t,e,a){this._optionDatepicker(t,e,a)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var a=this._getInst(t);a&&(this._setDate(a,e),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(t,e){var a=this._getInst(t);return a&&!a.inline&&this._setDateFromField(a,e),a?this._getDate(a):null},_doKeyDown:function(e){var a,i,n,r=t.datepicker._getInst(e.target),s=!0,o=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv),n[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,n[0]),a=t.datepicker._get(r,"onSelect"),a?(i=t.datepicker._formatDate(r),a.apply(r.input?r.input[0]:null,[i,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(a){var i,n,r=t.datepicker._getInst(a.target);return t.datepicker._get(r,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">n||!i||i.indexOf(n)>-1):e},_doKeyUp:function(e){var a,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{a=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),a&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var a,i,r,s,o,l,d;a=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==a&&(t.datepicker._curInst.dpDiv.stop(!0,!0),a&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(a,"beforeShow"),r=i?i.apply(e,[e,a]):{},r!==!1&&(n(a.settings,r),a.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(a),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),o={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(a),o=t.datepicker._checkOffset(a,o,s),a.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),a.inline||(l=t.datepicker._get(a,"showAnim"),d=t.datepicker._get(a,"duration"),a.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?a.dpDiv.show(l,t.datepicker._get(a,"showOptions"),d):a.dpDiv[l||"show"](l?d:null),t.datepicker._shouldFocusInput(a)&&a.input.focus(),t.datepicker._curInst=a))}},_updateDatepicker:function(e){this.maxRows=4,r=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var a,i=this._getNumberOfMonths(e),n=i[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",s*n+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(a=e.yearshtml,setTimeout(function(){a===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),a=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,a,i){var n=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),d=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return a.left-=this._get(e,"isRTL")?n-s:0,a.left-=i&&a.left===e.input.offset().left?t(document).scrollLeft():0,a.top-=i&&a.top===e.input.offset().top+o?t(document).scrollTop():0,a.left-=Math.min(a.left,a.left+n>l&&l>n?Math.abs(a.left+n-l):0),a.top-=Math.min(a.top,a.top+r>d&&d>r?Math.abs(r+o):0),a},_findPos:function(e){for(var a,i=this._getInst(e),n=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return a=t(e).offset(),[a.left,a.top]},_hideDatepicker:function(e){var a,i,n,r,o=this._curInst;!o||e&&o!==t.data(e,s)||this._datepickerShowing&&(a=this._get(o,"showAnim"),i=this._get(o,"duration"),n=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[a]||t.effects[a])?o.dpDiv.hide(a,t.datepicker._get(o,"showOptions"),i,n):o.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?i:null,n),a||n(),this._datepickerShowing=!1,r=this._get(o,"onClose"),r&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var a=t(e.target),i=t.datepicker._getInst(a[0]);(a[0].id!==t.datepicker._mainDivId&&0===a.parents("#"+t.datepicker._mainDivId).length&&!a.hasClass(t.datepicker.markerClassName)&&!a.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||a.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,a,i){var n=t(e),r=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(r,a+("M"===i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(e){var a,i=t(e),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(a=new Date,n.selectedDay=a.getDate(),n.drawMonth=n.selectedMonth=a.getMonth(),n.drawYear=n.selectedYear=a.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(e,a,i){var n=t(e),r=this._getInst(n[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(n)},_selectDay:function(e,a,i,n){var r,s=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(r=this._getInst(s[0]),r.selectedDay=r.currentDay=t("a",n).html(),r.selectedMonth=r.currentMonth=a,r.selectedYear=r.currentYear=i,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var a=t(e);this._selectDate(a,"")},_selectDate:function(e,a){var i,n=t(e),r=this._getInst(n[0]);a=null!=a?a:this._formatDate(r),r.input&&r.input.val(a),this._updateAlternate(r),i=this._get(r,"onSelect"),i?i.apply(r.input?r.input[0]:null,[a,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var a,i,n,r=this._get(e,"altField");r&&(a=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),n=this.formatDate(a,i,this._getFormatConfig(e)),t(r).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,a=new Date(t.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),e=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((e-a)/864e5)/7)+1},parseDate:function(a,i,n){if(null==a||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var r,s,o,l,d=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),p=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,g=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,_=-1,v=-1,b=-1,y=!1,k=function(t){var e=a.length>r+1&&a.charAt(r+1)===t;return e&&r++,e},w=function(t){var e=k(t),a="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=RegExp("^\\d{1,"+a+"}"),r=i.substring(d).match(n);if(!r)throw"Missing number at position "+d;return d+=r[0].length,parseInt(r[0],10)},D=function(a,n,r){var s=-1,o=t.map(k(a)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,a){var n=a[1];return i.substr(d,n.length).toLowerCase()===n.toLowerCase()?(s=a[0],d+=n.length,!1):e}),-1!==s)return s+1;throw"Unknown name at position "+d},C=function(){if(i.charAt(d)!==a.charAt(r))throw"Unexpected literal at position "+d;d++};for(r=0;a.length>r;r++)if(y)"'"!==a.charAt(r)||k("'")?C():y=!1;else switch(a.charAt(r)){case"d":v=w("d");break;case"D":D("D",p,h);break;case"o":b=w("o");break;case"m":_=w("m");break;case"M":_=D("M",f,g);break;case"y":m=w("y");break;case"@":l=new Date(w("@")),m=l.getFullYear(),_=l.getMonth()+1,v=l.getDate();break;case"!":l=new Date((w("!")-this._ticksTo1970)/1e4),m=l.getFullYear(),_=l.getMonth()+1,v=l.getDate();break;case"'":k("'")?C():y=!0;break;default:C()}if(i.length>d&&(o=i.substr(d),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),b>-1)for(_=1,v=b;s=this._getDaysInMonth(m,_-1),!(s>=v);)_++,v-=s;if(l=this._daylightSavingAdjust(new Date(m,_-1,v)),l.getFullYear()!==m||l.getMonth()+1!==_||l.getDate()!==v)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,a){if(!e)return"";var i,n=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,r=(a?a.dayNames:null)||this._defaults.dayNames,s=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,o=(a?a.monthNames:null)||this._defaults.monthNames,l=function(e){var a=t.length>i+1&&t.charAt(i+1)===e;return a&&i++,a},d=function(t,e,a){var i=""+e;if(l(t))for(;a>i.length;)i="0"+i;return i},c=function(t,e,a,i){return l(t)?i[e]:a[e]},u="",p=!1;if(e)for(i=0;t.length>i;i++)if(p)"'"!==t.charAt(i)||l("'")?u+=t.charAt(i):p=!1;else switch(t.charAt(i)){case"d":u+=d("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,r);break;case"o":u+=d("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=d("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),s,o);break;case"y":u+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":p=!0;break;default:u+=t.charAt(i)}return u},_possibleChars:function(t){var e,a="",i=!1,n=function(a){var i=t.length>e+1&&t.charAt(e+1)===a;return i&&e++,i};for(e=0;t.length>e;e++)if(i)"'"!==t.charAt(e)||n("'")?a+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":n("'")?a+="'":i=!0;break;default:a+=t.charAt(e)}return a},_get:function(t,a){return t.settings[a]!==e?t.settings[a]:this._defaults[a]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var a=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),r=n,s=this._getFormatConfig(t);try{r=this.parseDate(a,i,s)||n}catch(o){i=e?"":i}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=i?r.getDate():0,t.currentMonth=i?r.getMonth():0,t.currentYear=i?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,a,i){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(a){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),a,t.datepicker._getFormatConfig(e))}catch(i){}for(var n=(a.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=n.getFullYear(),s=n.getMonth(),o=n.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,d=l.exec(a);d;){switch(d[2]||"d"){case"d":case"D":o+=parseInt(d[1],10);break;case"w":case"W":o+=7*parseInt(d[1],10);break;case"m":case"M":s+=parseInt(d[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(r,s));break;case"y":case"Y":r+=parseInt(d[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(r,s))}d=l.exec(a)}return new Date(r,s,o)},s=null==a||""===a?i:"string"==typeof a?r(a):"number"==typeof a?isNaN(a)?i:n(a):new Date(a.getTime());return s=s&&"Invalid Date"==""+s?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,a){var i=!e,n=t.selectedMonth,r=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),n===t.selectedMonth&&r===t.selectedYear||a||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var a=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-a,"M")},next:function(){t.datepicker._adjustDate(i,+a,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,a,i,n,r,s,o,l,d,c,u,p,h,f,g,m,_,v,b,y,k,w,D,C,x,I,M,S,T,N,E,A,P,F,O,z,Y,R,j,W=new Date,L=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),H=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),K=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),G=1!==U[0]||1!==U[1],Q=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),$=t.drawMonth-V,te=t.drawYear;if(0>$&&($+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Z&&Z>e?Z:e;this._daylightSavingAdjust(new Date(te,$,1))>e;)$--,0>$&&($=11,te--);for(t.drawMonth=$,t.drawYear=te,a=this._get(t,"prevText"),a=q?this.formatDate(a,this._daylightSavingAdjust(new Date(te,$-X,1)),this._getFormatConfig(t)):a,i=this._canAdjustMonth(t,-1,te,$)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+a+"</span></a>":K?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+a+"</span></a>",n=this._get(t,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(te,$+X,1)),this._getFormatConfig(t)):n,r=this._canAdjustMonth(t,1,te,$)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+n+"</span></a>":K?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+n+"</span></a>",s=this._get(t,"currentText"),o=this._get(t,"gotoCurrent")&&t.currentDay?Q:L,s=q?this.formatDate(s,o,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",d=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(t,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),p=this._get(t,"dayNames"),h=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",w=0;U[0]>w;w++){for(D="",this.maxRows=4,C=0;U[1]>C;C++){if(x=this._daylightSavingAdjust(new Date(te,$,t.selectedDay)),I=" ui-corner-all",M="",G){if(M+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:M+=" ui-datepicker-group-first",I=" ui-corner-"+(H?"right":"left");break;case U[1]-1:M+=" ui-datepicker-group-last",I=" ui-corner-"+(H?"left":"right");break;default:M+=" ui-datepicker-group-middle",I=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===w?H?r:i:"")+(/all|right/.test(I)&&0===w?H?i:r:"")+this._generateMonthYearHeader(t,$,te,Z,J,w>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",k=0;7>k;k++)T=(k+c)%7,S+="<th"+((k+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[T]+"'>"+h[T]+"</span></th>";for(M+=S+"</tr></thead><tbody>",N=this._getDaysInMonth(te,$),te===t.selectedYear&&$===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,N)),E=(this._getFirstDayOfMonth(te,$)-c+7)%7,A=Math.ceil((E+N)/7),P=G&&this.maxRows>A?this.maxRows:A,this.maxRows=P,F=this._daylightSavingAdjust(new Date(te,$,1-E)),O=0;P>O;O++){for(M+="<tr>",z=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(F)+"</td>":"",k=0;7>k;k++)Y=m?m.apply(t.input?t.input[0]:null,[F]):[!0,""],R=F.getMonth()!==$,j=R&&!v||!Y[0]||Z&&Z>F||J&&F>J,z+="<td class='"+((k+c+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(F.getTime()===x.getTime()&&$===t.selectedMonth&&t._keyEvent||b.getTime()===F.getTime()&&b.getTime()===x.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!_?"":" "+Y[1]+(F.getTime()===Q.getTime()?" "+this._currentClass:"")+(F.getTime()===L.getTime()?" ui-datepicker-today":""))+"'"+(R&&!_||!Y[2]?"":" title='"+Y[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(R&&!_?"&#xa0;":j?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===L.getTime()?" ui-state-highlight":"")+(F.getTime()===Q.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);M+=z+"</tr>"}$++,$>11&&($=0,te++),M+="</tbody></table>"+(G?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),D+=M}y+=D}return y+=d,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,a,i,n,r,s,o){var l,d,c,u,p,h,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(r||!m)y+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===a,d=n&&n.getFullYear()===a,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!d||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+o[c]+"</option>");y+="</select>"}if(v||(b+=y+(!r&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!_)b+="<span class='ui-datepicker-year'>"+a+"</span>";else{for(u=this._get(t,"yearRange").split(":"),p=(new Date).getFullYear(),h=function(t){var e=t.match(/c[+\-].*/)?a+parseInt(t.substring(1),10):t.match(/[+\-].*/)?p+parseInt(t,10):parseInt(t,10);return isNaN(e)?p:e},f=h(u[0]),g=Math.max(f,h(u[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===a?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!r&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,a){var i=t.drawYear+("Y"===a?e:0),n=t.drawMonth+("M"===a?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(i,n))+("D"===a?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,n,r)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===a||"Y"===a)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var a=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),n=a&&a>e?a:e;return i&&n>i?i:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,a,i){var n=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(a,i+(0>e?e:n[0]*n[1]),1));return 0>e&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var a,i,n=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),s=null,o=null,l=this._get(t,"yearRange");return l&&(a=l.split(":"),i=(new Date).getFullYear(),s=parseInt(a[0],10),o=parseInt(a[1],10),a[0].match(/[+\-].*/)&&(s+=i),a[1].match(/[+\-].*/)&&(o+=i)),(!n||e.getTime()>=n.getTime())&&(!r||e.getTime()<=r.getTime())&&(!s||e.getFullYear()>=s)&&(!o||o>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,a,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,a,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(a)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(a))},t.datepicker=new a,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.4"}(jQuery),function(t,e){e.dis=new WebSocketRails(e.location.host+"/websocket"),e.privateChannel=dis.subscribe(t(".userinfo h5").html()),dis.on_open=function(t){console.log("Connection has been established: ",t)},privateChannel.bind("order_detail",function(e){var a=""!==e.order.adult_names?e.order.adult_names.split(";"):[],i=""!==e.order.children_names?e.order.children_names.split(";"):[],n=""!==e.order.infant_names?e.order.infant_names.split(";"):[],r=["Morning","Mid day","Afternoon","Evening"],s=["By money at office","By credit card"];t(".customer_id").html(e.customer.id),t(".customer_group").html(e.customer.group_id),t(".customer_name").html(e.customer.name),t(".customer_phone").html(e.customer.phone),t(".customer_email").html(e.customer.email),t(".order_from").html(e.order.from),t(".order_to").html(e.order.to),t(".order_depart").html(e.order.depart_date+" - "+r[e.order.depart_time_slot]),t(".order_return").html(e.order.return_date+" - "+r[e.order.return_time_slot]||"&nbsp;"),t(".payment_method").html(s[e.order.payment_method]),t(".order_adult_tickets").html(a.length+" adult ticket(s): </br>"+a.join("</br>")),t(".order_children_tickets").html(i.length+" children ticket(s): </br>"+i.join("</br>")),t(".order_infant_tickets").html(n.length+" infant ticket(s): </br>"+n.join("</br>")),t.magnificPopup.open({items:{src:".order-detail",type:"inline"},callbacks:{beforeClose:function(){}}})}),privateChannel.bind("order_filtered",function(e){var a,i,n=t(".footable").data("footable"),r=["<span class='order_status new'>NEW</span>","<span class='order_status viewed'>VIEWED</span>","<span class='order_status sent-email'>SENT EMAIL</span>","<span class='order_status sent-tickets'>SENT TICKETS</span>"];for(t(".footable tbody tr").remove(),a=0,i=e.length;i>a;a++)!function(a){var i=t('<tr class="order_id_'+e[a].id+'"><td>'+e[a].from+"</td><td>"+e[a].to+"</td><td>"+e[a].depart_date+"</td><td>"+(e[a].return_date||"&nbsp;")+"</td><td>"+new Date(e[a].created_at).toLocaleString()+"</td><td>"+r[e[a].status]+'</td><td><button class="view-order view-order btn btn-primary btn-sm"href="#" data-order_id="'+e[a].id+'">View order</button></td><td><button class="preview-email btn btn-primary btn-sm"href="#" data-order_id="'+e[a].id+'">Preview email</button></td><td><button class="send-ticket btn btn-primary btn-sm"href="#" data-order_id="'+e[a].id+'">Send ticket</button></td><td>');n.appendRow(i)}(a)}),t("#start").datepicker({dateFormat:"dd/mm/yy"}),t("#end").datepicker({dateFormat:"dd/mm/yy"}),t(".get-data").click(function(){var e=t("#start").val(),a=t("#end").val(),i=t("#status").val();window.dis.trigger("get_filtered_order_data",{start_time:""===e?null:e,end_time:""===a?null:a,status:""===i?null:i})})}(jQuery,window),function(t,e){e.orderMan=dis.subscribe("orders_management_man"),t("tbody").on("click",".view-detail",function(t){var e={order_id:t.currentTarget.getAttribute("data-order_id")};return window.dis.trigger("man_view_order",e),!1}),t("tbody").on("click",".view-logs",function(t){var e={order_id:t.currentTarget.getAttribute("data-order_id")};return window.dis.trigger("view_logs",e),!1}),privateChannel.bind("view_order_logs",function(e){var a,i={},n="",r=e.accounts;for(orderProcessings=e.order_processings,statusMap=["","VIEW ORDER","SENT EMAIL to customer","SENT TICKETS to customer"],console.log(e),a=0;a<r.length;a++)i[r[a].id]=r[a].username;for(a=0;a<orderProcessings.length;a++)n=n+"<li>"+i[orderProcessings[a].account_id]+" "+statusMap[orderProcessings[a].status]+" at "+new Date(orderProcessings[a].created_at).toLocaleString()+"</li>";t(".logs").html(t(n)),t.magnificPopup.open({items:{src:".action-logs",type:"inline"},callbacks:{beforeClose:function(){}}})}),orderMan.bind("order_emp_view_order",function(e){var a=t(".order_id_"+e.id+" .order_status");a.removeClass().addClass("order_status viewed").html("VIEWED")}),orderMan.bind("order_emp_send_email",function(e){var a=t(".order_id_"+e.id+" .order_status");
a.removeClass().addClass("order_status sent-email").html("SENT EMAIL")}),orderMan.bind("order_emp_send_ticket",function(e){var a=t(".order_id_"+e.id+" .order_status");a.removeClass().addClass("order_status sent-tickets").html("SENT TICKETS")}),orderMan.bind("new_request",function(e){var a,i=t("table").data("footable"),n=["<span class='order_status new'>NEW</span>","<span class='order_status view-order'>VIEW ORDER</span>","<span class='order_status sent-email'>SENT EMAIL</span>","<span class='order_status sent-tickets'>SENT TICKETS</span>"];a=t("<tr><td>"+e.customer.name+"</td><td>"+e.order.from+"</td><td>"+e.order.to+"</td><td>"+e.order.depart_date+"</td><td>"+(e.order.return_date||"&nbsp;")+"</td><td>"+new Date(e.order.created_at).toLocaleString()+"</td><td>"+n[e.order.status]+'</td><td><button class="view-detail btn btn-primary btn-sm" href="#" data-order_id="'+e.order.id+'">View detail</button></td><td><button class="view-logs btn btn-primary btn-sm" href="#" data-order_id="'+e.order.id+'">View logs</button></td><td>'),i.appendRow(a)}),t(".footable").bind("footable_breakpoint",function(){t(".footable").trigger("footable_expand_first_row")}).footable()}(jQuery,window);